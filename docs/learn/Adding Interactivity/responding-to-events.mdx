import {Code} from "../../../src/components/Code";
import {BlockQuote} from "../../../src/components/BlockQuote/BlockQuote";


React에서는 JSX에 이벤트 핸들러를 부착할 수 있습니다. 이벤트 핸들러는 여러분이 직접 만든 함수들로, 클릭(click), 호버(hover), 입력창에 포커스(focus)같은 이벤트가 발생했을 때 반응하는 함수를 말합니다.

:::note You will Learn
- 이벤트 핸들러를 작성할 수 있는 여러 가지 방법들
- 부모 컴포넌트로부터 이벤트 핸들링 로직을 전달하는 방법
- 어떻게 이벤트가 전파되는지, 그리고 이벤트 전파를 막는 방법
:::

## 이벤트 핸들러 추가하기

이벤트 핸들러를 추가하기 위해서는 우선 함수를 선언하고 적절한 JSX 태그에 [prop으로 전달](https://beta.reactjs.org/learn/passing-props-to-a-component)해야 합니다. 예를 들어, 아래 예시에는 아직 아무것도 하지 않는 버튼이 있습니다.

<Code src="https://codesandbox.io/embed/sandpack-project-0gq1q3?fontsize=14&hidenavigation=1&theme=dark" />

아래 세 단계를 통해 유저가 버튼을 클릭한 경우 메시지를 보여주도록 할 수 있습니다.

1. `Button` 컴포넌트 내부에 `handleClick` 함수를 선언합니다.
2. 함수 내부에 로직을 구현합니다(`alert`를 이용해 메시지를 보여주도록 합니다).
3. `<button>` JSX에 `onClick={handleClick}`을 추가합니다.

<Code src="https://codesandbox.io/embed/sandpack-project-1p4qyg?fontsize=14&hidenavigation=1&theme=dark" />

여러분은 `handleClick` 함수를 정의해 `<button>`에 [prop으로써 전달](https://beta.reactjs.org/learn/passing-props-to-a-component)했습니다. **`handleClick`은 이벤트 핸들러입니다.** 이밴트 핸들러는
- 보통 컴포넌트 _내부에_ 정의됩니다.
- `handle` 로 시작하는 이름을 갖습니다. 그 뒤에는 이벤트 이름이 붙습니다.

:::info
관습적으로, 이벤트 핸들러의 이름은 `handle`과 그 뒤에 이벤트 이름이 붙습니다. 여러분은 `onClick={handleClick}`이나 `onMouseEnter={handleMouseEnter}`같은 이름들을 종종 보게 될겁니다.
:::

JSX에 인라인으로 이벤트 핸들러를 넣는 것도 가능합니다.

```jsx
<button onClick={function handleClick() {
  alert('You clicked me!');
}}>
```

혹은 더 간단하게 화살표 함수를 사용할 수도 있습니다.

```jsx
<button onClick={() => {
  alert('You clicked me!');
}}>
```

위는 전부 같은 코드입니다. 인라인 이벤트 핸들러는 짧은 함수일때 유용합니다.

:::danger
이벤드 핸들러로 전달되는 함수들은 전달만 되어야 하고, 호출되어서는 안됩니다. 예를 들어

| 함수를 전달(O) | 함수를 호출(X) |
|----|----|
| `<button onClick={handleClick}>` | `<button onClick={handleClick()}>` |

둘의 차이는 미묘합니다. 첫 번째 예시에서 `handleClick` 함수는 `onClick` 이벤트 핸들러로써 전달되었습니다. 이는 React에게 함수를 기억하고 버튼이 클릭되었을 때 그 함수를 호출하라고 명령하는 것입니다.

두 번째 예시에서 `handleClick()` 뒤에 붙은 `()`는 클릭 이벤트가 발생하지 않더라도 [렌더링](https://beta.reactjs.org/learn/render-and-commit) 도중에 즉시 함수가 실행되도록 합니다. [JSX의 `{`와`}`가](https://beta.reactjs.org/learn/javascript-in-jsx-with-curly-braces) 내부에 있는 JavaScript 코드를 즉시 실행시키기 때문입니다.

코드를 인라인으로 작성한다면, 같은 위험에 처할 수 있습니다.

| 함수를 전달(O) | 함수를 호출(X) |
|----|----|
| `<button onClick={() => alert('...')}>` | `<button onClick={alert('...'}>` |

이런 방식으로 인라인 코드를 작성하면 클릭 이벤트 발생 시에 함수가 호출되지 않습니다. - 컴포넌트가 렌더링 될때마다 함수가 호출됩니다.

```jsx
// 이 alert는 컴포넌트가 렌더링 될 때 호출됩니다. 클릭 이벤트 발생 시가 아닙니다.
<button onClick={alert('You clicked me!')}>
```

만약 이벤트 핸들러를 인라인으로 작성하고자 한다면, 아래처럼 익명 함수에 이를 감싸야 합니다.

```jsx
<button onClick={() => alert('You clicked me!')}>
```

이렇게 하면 렌더링 될때마다 코드가 실행되는 것이 아니라, 후에 호출될 함수를 생성하게 됩니다.

두가지 경우에서 JSX에 전달해야 하는 것은 함수입니다.
- `<button onClick={handleClick}` 은 handleClick 함수를 전달합니다.
- `<button onClick={() => alert('...')}>`은 `() => alert('...')` 함수를 전달합니다.

<BlockQuote>
    <a href="https://beta.reactjs.org/a-javascript-refresher#arrow-functions">JavaScript Refresher</a>에서 화살표 함수에 대한 정보를 더 확인해보세요.
</BlockQuote>
:::
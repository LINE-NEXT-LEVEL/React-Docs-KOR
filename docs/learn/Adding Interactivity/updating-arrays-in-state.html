<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/Adding Interactivity/updating-arrays-in-state">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">배열인 상태 업데이트하기 | React Docs KOR</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://line-next-level.github.io/React-Docs-KOR/docs/learn/Adding Interactivity/updating-arrays-in-state"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="배열인 상태 업데이트하기 | React Docs KOR"><meta data-rh="true" name="description" content="JavaScript에서 배열은 가변적인 것이지만 상태에 배열을 저장할 때에는 배열을 변하지 않는 것으로 취급해야 합니다."><meta data-rh="true" property="og:description" content="JavaScript에서 배열은 가변적인 것이지만 상태에 배열을 저장할 때에는 배열을 변하지 않는 것으로 취급해야 합니다."><link data-rh="true" rel="icon" href="/React-Docs-KOR/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://line-next-level.github.io/React-Docs-KOR/docs/learn/Adding Interactivity/updating-arrays-in-state"><link data-rh="true" rel="alternate" href="https://line-next-level.github.io/React-Docs-KOR/docs/learn/Adding Interactivity/updating-arrays-in-state" hreflang="ko"><link data-rh="true" rel="alternate" href="https://line-next-level.github.io/React-Docs-KOR/docs/learn/Adding Interactivity/updating-arrays-in-state" hreflang="x-default"><link rel="stylesheet" href="/React-Docs-KOR/assets/css/styles.2d3a33e4.css">
<link rel="preload" href="/React-Docs-KOR/assets/js/runtime~main.16dcfed8.js" as="script">
<link rel="preload" href="/React-Docs-KOR/assets/js/main.ae80d2f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a href="#" class="skipToContent_fXgn">본문으로 건너뛰기</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/React-Docs-KOR/"><div class="navbar__logo"><img src="/React-Docs-KOR/img/logo.svg" alt="React Docs Beta KOR" class="themedImage_ToTc themedImage--light_HNdA"><img src="/React-Docs-KOR/img/logo.svg" alt="React Docs Beta KOR" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">React Docs Beta KOR</b></a><a class="navbar__item navbar__link" href="/React-Docs-KOR/docs/learn/installation/add-react-to-website">learn</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/React-Docs-KOR/docs/learn/Quick Start/thinking-in-react">GET STARTED</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/React-Docs-KOR/docs/learn/Describing the UI/describing-the-ui">LEARN REACT</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/React-Docs-KOR/docs/learn/Describing the UI/describing-the-ui">Describing the UI</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Describing the UI&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/adding-interactivity">Adding Interactivity</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Adding Interactivity&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/responding-to-events">이벤트에 반응하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/state-a-components-memory">상태: 컴포넌트의 기억</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/render-and-commit">렌더와 커밋</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/state-as-a-snapshot">스냅샷처럼 상태 사용하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/queueing-a-series-of-state-updates">일련의 상태 업데이트 저장하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/React-Docs-KOR/docs/learn/Adding Interactivity/updating-arrays-in-state">배열인 상태 업데이트하기</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/React-Docs-KOR/docs/learn/Managing State/managing-state">Managing State</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Managing State&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/React-Docs-KOR/docs/learn/Escape Hatches/escape-hatches">Escape Hatches</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Escape Hatches&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/React-Docs-KOR/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">LEARN REACT</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/React-Docs-KOR/docs/learn/Adding Interactivity/adding-interactivity"><span itemprop="name">Adding Interactivity</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">배열인 상태 업데이트하기</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><h1>배열인 상태 업데이트하기</h1><p>JavaScript에서 배열은 가변적인 것이지만 상태에 배열을 저장할 때에는 배열을 변하지 않는 것으로 취급해야 합니다.
객체와 똑같이, 상태에 저장한 배열을 업데이트하고 싶다면 새로운 배열(또는 기존 배열의 복사본)을 만들어내고 새롭게 만든 배열로 상태를 set할 필요가 있습니다.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You will Learn</div><div class="admonitionContent_S0QG"><ul><li>React 배열 상태를 추가하고, 제거하고, 변경하는 방법</li><li>배열 속 객체를 업데이트하는 방법</li><li>매번 덜 반복적으로 배열을 복사하는 방법</li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="변화없이-배열을-업데이트하기">변화없이 배열을 업데이트하기<a class="hash-link" href="#변화없이-배열을-업데이트하기" title="제목으로 바로 가기">​</a></h2><p>JavaScript에서 배열은 객체의 또다른 종류일뿐입니다. <a href="https://beta.reactjs.org/learn/updating-objects-in-state" target="_blank" rel="noopener noreferrer">다른 객체와 마찬가지로</a> <strong>React 배열 상태를 읽기 전용으로만 취급해야 합니다.</strong>
이는 <code>arr[0] = &#x27;bird&#x27;</code>와 같이 배열에 아이템을 재할당해서 안된다는 것을 의미합니다. 그리고 <code>push()</code>와 <code>pop()</code>과 같은 배열을 변화시키는 방법들도 사용해서는 안됩니다.</p><p>대신 배열을 업데이트하기를 원할때마다 <em>새로운</em> 배열을 상태 지정함수에 넘겨주어야 합니다.
그러기 위해서, <code>filter()</code>와 <code>map()</code>과 같은 변화시키지 않는 방법들을 이용해 기존의 배열 상태에서 새로운 배열을 만들 수 있습니다.
그리고 나서 결과로 나온 새로운 배열을 상태에 재지정하면 됩니다.</p><p>보통의 배열 동작 참조표입니다.
React 상태 내부의 배열을 다룰 때, 왼쪽 열의 방법들을 피해야 하고 대신에 오른쪽 열에 있는 방법들을 가까이해야 합니다.</p><table><thead><tr><th align="center">.</th><th align="center">피하기(배열을 변화시킴)</th><th align="center">가까이하기(새로운 배열을 반환)</th></tr></thead><tbody><tr><td align="center">추가하기</td><td align="center"><code>push</code>, <code>unshift</code></td><td align="center"><code>concat</code>, <code>[...arr]</code> spread 문법(<a href="https://beta.reactjs.org/learn/updating-arrays-in-state#adding-to-an-array" target="_blank" rel="noopener noreferrer">예시</a>)</td></tr><tr><td align="center">제거하기</td><td align="center"><code>pop</code>, <code>shift</code>, <code>splice</code></td><td align="center"><code>filter</code>, <code>slice</code> (<a href="https://beta.reactjs.org/learn/updating-arrays-in-state#removing-from-an-array" target="_blank" rel="noopener noreferrer">예시</a>)</td></tr><tr><td align="center">대체하기</td><td align="center"><code>splice</code>, <code>arr[i] = ...</code> 할당</td><td align="center"><code>map</code>(<a href="https://beta.reactjs.org/learn/updating-arrays-in-state#replacing-items-in-an-array" target="_blank" rel="noopener noreferrer">예시</a>)</td></tr><tr><td align="center">정렬하기</td><td align="center"><code>reverse</code>, <code>sort</code></td><td align="center">먼저 배열을 복사해놓기(<a href="https://beta.reactjs.org/learn/updating-arrays-in-state#making-other-changes-to-an-array" target="_blank" rel="noopener noreferrer">예시</a>)</td></tr></tbody></table><p>대안으로 두 열의 모든 방법들을 사용하게 해주는 <a href="https://beta.reactjs.org/learn/updating-arrays-in-state#write-concise-update-logic-with-immer" target="_blank" rel="noopener noreferrer">Immer를 사용</a>할 수 있습니다.</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>주의</div><div class="admonitionContent_S0QG"><p>불행하게도, <code>slice</code>와 <code>splice</code>는 이름이 비슷하지만 매우 다릅니다.</p><ul><li><code>slice</code>는 배열 전체를 복사하거나 배열의 부분만을 복사하도록 합니다.</li><li><code>splice</code>는 (배열에 아이템들을 삽입하거나 제거하면서) 배열을 <strong>변화</strong>시킵니다.</li></ul><p>React에서 <code>slice</code>(<code>p</code>가 아닌!)를 훨씬 더 많이 사용할 것입니다 왜냐하면 객체 상태 또는 배열 상태를 변화시키는 것을 원하지 않기 때문입니다.
<a href="https://beta.reactjs.org/learn/updating-objects-in-state" target="_blank" rel="noopener noreferrer">객체를 업데이트하는 것에 관련된 글</a>은 변화가 무엇이고 왜 변화가 상태에 추천되지 않는지 설명합니다.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="배열에-추가하기">배열에 추가하기<a class="hash-link" href="#배열에-추가하기" title="제목으로 바로 가기">​</a></h3><p><code>push()</code>는 여러분이 원하지 않더라도 배열을 변화시킵니다:</p><iframe src="https://codesandbox.io/s/rqytth?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>대신에 기존의 아이템과 새로운 아이템을 끝에서 포함하는 새로운 배열을 만드세요.
새로운 배열을 만드는 방식은 여러가지 있지만 가장 쉬운 방식은 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#spread_in_array_literals" target="_blank" rel="noopener noreferrer">배열 spread</a> 문법 <code>...</code>을 사용하는 것입니다:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setArtists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 상태를 교체합니다</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 새로운 배열로</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">artists</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 전의 아이템들을 모두 포함하고</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> nextId</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 끝에 새로운 아이템도 포함하는</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이제 정확하게 작동할 것입니다:</p><iframe src="https://codesandbox.io/s/ucguzz?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>배열 spread 문법은 또한 기존의 <code>...artists</code> <em>앞에</em> 아이템을 놓음으로서 아이템을 배열 앞에 붙일 수 있습니다:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setArtists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> nextId</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">artists </span><span class="token comment" style="color:#999988;font-style:italic">// 끝에 이전의 아이템들을 놓습니다</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이러한 방식으로 spread는 배열의 끝에 아이템을 추가하는 <code>push()</code>와 배열의 시작부분에 아이템을 추가하는 <code>unshift()</code>를 모두 수행합니다.
위의 sandbox로 시도해보세요!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="배열에서-제거하기">배열에서 제거하기<a class="hash-link" href="#배열에서-제거하기" title="제목으로 바로 가기">​</a></h3><p>배열에서 아이템을 제거하는 가장 쉬운 방법은 <em>걸러내는 것입니다</em>. 즉, 해당 아이템을 포함하지 않은 새로운 배열을 만들어내는 것입니다.
그렇게 하기 위해, <code>filter</code> 방법을 사용해야 합니다, 예를 들어:</p><iframe src="https://codesandbox.io/s/g1jqts?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>여러번 &quot;Delete&quot; 버튼을 클릭하고 클릭 핸들러를 바라보세요.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setArtists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  artists</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> artist</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>artists.filter(a =&gt; a.id !== artist.id)</code>가 의미하는 것은 &quot;<code>artist.id</code>와 다른 ID를 갖고 있는 <code>artists</code>로 이루어진 배열을 만들어내라&quot;입니다.
즉, 각각의 예술가의 &quot;Delete&quot; 버튼은 배열에서 그 예술가를 걸러내고 결과로 나온 배열로 재렌더링을 요청합니다.
<code>filter</code>은 기존의 배열을 변경하지 않는다는 점을 유념하세요.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="배열을-변형시키기">배열을 변형시키기<a class="hash-link" href="#배열을-변형시키기" title="제목으로 바로 가기">​</a></h3><p>배열의 약간 또는 전체 아이템을 변경하고 싶다면, <strong>새로운</strong> 배열을 만들어내는 <code>map()</code>을 사용할 수 있습니다.
<code>map</code>에 넘기는 함수는 각 아이템의 데이터 또는 각 아이템의 인덱스(또는 두 개 모두)를 이용해 각 아이템으로 무엇을 할 지 결정할 수 있습니다.</p><p>이 예시에서, 배열은 정렬된 두개의 원과 하나의 네모를 가지고 있습니다.
버튼을 누를 때, 원만 아래로 50px 내려갑니다. <code>map()</code>을 사용하여 새로운 데이터가 담긴 배열을 만들어냈기 때문입니다:</p><iframe src="https://codesandbox.io/s/izexy3?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><h3 class="anchor anchorWithStickyNavbar_LWe7" id="배열-속-아이템-바꾸기">배열 속 아이템 바꾸기<a class="hash-link" href="#배열-속-아이템-바꾸기" title="제목으로 바로 가기">​</a></h3><p>배열 속 하나 이상의 아이템들을 교체하기를 원하는 것은 매우 흔합니다.
<code>arr[0] = &#x27;bird&#x27;</code>와 같이 할당은 기존 배열을 변화시키므로 대신 여러분은 <code>map</code>을 또 사용하고 싶을 것입니다.</p><p>아이템을 교체하기 위해, <code>map</code>을 이용해 새로운 배열을 만드세요.
<code>map</code> 함수를 부를 때, 두번째 인수로 아이템 인덱스를 받을 것입니다. 이 아이템 인덱스로 (첫번째 인수인)기존 아이템 또는 다른 무언가를 반환할지 말지 결정하는 데 사용하세요:</p><iframe src="https://codesandbox.io/s/opjfs5?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><h3 class="anchor anchorWithStickyNavbar_LWe7" id="배열에-삽입하기">배열에 삽입하기<a class="hash-link" href="#배열에-삽입하기" title="제목으로 바로 가기">​</a></h3><p>가끔 시작 지점도 아니고 끝 지점도 아닌 특정 위치에 아이템을 삽입하기를 원할지도 모릅니다.
이를 하기 위해서 여러분은 <code>slice()</code> 방법과 함께 <code>...</code> 배열 spread 문법을 사용하면 됩니다.
<code>slice()</code> 방법은 배열의 &quot;부분&quot;을 자를 수 있도록 합니다.
아이템을 삽입하기 위해서 여러분은 삽입지점 바로 앞까지 부분, 새로운 아이템, 그리고 나서 기존 배열의 남은 부분을 차례대로 spread합니다.</p><p>이 예시에서, 삽입 버튼은 인덱스 <code>1</code>에 항상 삽입합니다:</p><iframe src="https://codesandbox.io/s/s6q9f3?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><h3 class="anchor anchorWithStickyNavbar_LWe7" id="배열에-다른-변화를-만들어내기">배열에 다른 변화를 만들어내기<a class="hash-link" href="#배열에-다른-변화를-만들어내기" title="제목으로 바로 가기">​</a></h3><p>spread 문법과 <code>map()</code>과 <code>filter()</code>와 같은 변화시키지 않는 방식만을 사용해서 할 수 없는 것들도 있습니다.
예를 들어, 배열을 정렬 또는 역정렬을 하고싶을 때입니다.
JavaScript의 <code>reverse()</code>와 <code>sort()</code> 방법들은 기존 배열을 변화시키기 때문에 이 방법들을 직접적으로 사용해서는 안됩니다.</p><p><strong>하지만, 먼저 배열을 복사한 뒤 그 복사된 배열을 변화시키는 것은 가능합니다.</strong></p><p>예를 들어,</p><iframe src="https://codesandbox.io/s/ym4s5u?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>먼저 기존 배열의 복사본을 만들기 위해 <code>[...list]</code> spread 문법을 사용합니다.
이제 복사본을 가지고 있으므로 <code>nextList.reverse()</code> 또는 <code>nextList.sort()</code>와 같은 변화시키는 방법들을 사용할 수 있습니다.
또는 심지어 <code>nextList[0] = &quot;something&quot;</code>과 같이 개개의 아이템을 할당할 수 있습니다.</p><p>하지만, <strong>배열을 복사하더라도 복사본 내부의 이미 존재하는 아이템을 직접적으로 변경해서는 안됩니다.</strong>
왜냐하면 이루어진 복사는 얕기 때문입니다. 즉, 새로운 배열은 기존 배열과 같은 아이템들을 갖고 있습니다.
그래서 복사된 배열 내부의 객체를 변경하면 기존 상태를 변경하는 것과 같습니다.
예를 들어, 아래 코드가 이 문제에 해당됩니다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> nextList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nextList</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">seen</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 문제: list[0]을 변화시킵니다</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nextList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>nextList</code>와 <code>list</code>는 다른 두개의 배열이지만 <strong><code>nextList[0]</code></strong>과 <strong><code>list[0]</code>은 같은 객체를 참조하고 있습니다.</strong>
<code>nextList[0].seen</code>을 변경하면 <code>list[0].seen</code>을 같이 변경하고 있는 것으로 피해야만 하는 상태 변경입니다!
<a href="https://beta.reactjs.org/learn/updating-objects-in-state#updating-a-nested-object" target="_blank" rel="noopener noreferrer">중첩된 JavaScript 객체를 업데이트하는 것</a>(아이템을 변경하는 것 대신에 변경을 원하는 각각의 아이템을 복사하는 것)과 비슷한 방식으로 이 문제를 해결할 수 있습니다.
아래에 방법이 적혀있습니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="배열-내부의-객체를-업데이트하기">배열 내부의 객체를 업데이트하기<a class="hash-link" href="#배열-내부의-객체를-업데이트하기" title="제목으로 바로 가기">​</a></h2><p>객체는 <em>실제로</em> 배열의 &quot;내부&quot;에 위치해있지 않습니다.
코드에서는 객체가 &quot;내부&quot;에 있는 것처럼 보이지만 배열 내부의 각 객체는 배열이 &quot;참조&quot;하고 있는 별도의 값입니다.
<code>list[0]</code>과 같이 중첩된 영역을 변경할 때 조심해야 할 필요가 있는 이유입니다.
또 다른 사람의 작업 결과물인 배열이 그 배열의 같은 요소를 참조하고 있을지도 모릅니다!</p><p><strong>중첩된 상태를 업데이트할 때, 업데이트하기를 원하는 지점부터 최상위 수준까지 복사본을 만들 필요가 있습니다.</strong>
어떻게 이것이 작동하는지 살펴봅시다.</p><p>이 예시에서, 두개의 분리된 미술품 목록이 같은 초기상태를 가지고 있습니다.
두 목록은 독립적이어야 하지만, 변경 때문에 두개의 상태가 일시적으로 공유되고 한 목록 내에 있는 박스를 체크하는 것이 다른 목록에 영향을 줍니다:</p><iframe src="https://codesandbox.io/s/46d808?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>문제가 있는 코드부분은 아래와 같습니다:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> myNextList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">myList</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> artwork </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> myNextList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> artworkId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">artwork</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">seen</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nextSeen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 문제: 기존의 아이템을 변화시킵니다</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setMyList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myNextList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>myNextList</code> 배열 자체는 새로운 것이지만 아이템들은 기존의 <code>myList</code> 배열의 아이템들과 완전히 똑같습니다.
<code>artwork.seen</code>을 변경하는 것은 <em>기존의</em> 미술품 항목을 변경합니다.
그 미술품 항목은 <code>yourArtworks</code>에도 있기 때문에 오류의 원인이 됩니다.
이러한 버그들을 해결하는 것은 어렵지만 감사하게도 상태를 변화시키는 것을 피하면 없앨 수 있습니다.</p><p><strong><code>map</code>을 사용하여 변경 없이 아이템의 업데이트된 버전으로 오래된 아이템을 대체할 수 있습니다.</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setMyList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">artwork</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">artwork</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> artworkId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// *새로운* 객체로 변화를 만듭니다</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">artwork</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">seen</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> nextSeen </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 변화없음</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> artwork</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>여기, <code>...</code>은 객체의 복사본을 만들어내기 위해 사용되는 객체 spread 문법입니다.</p><p>이러한 방식으로, 기존의 상태 아이템은 변경되지 않을 것이고 버그는 고쳐집니다:</p><iframe src="https://codesandbox.io/s/8sk5hs?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>일반적으로, <strong>막 생성한 객체들만 변경해야 합니다</strong>.
<em>새로운</em> 미술품을 삽입한다면, 그 미술품을 변경해도 되지만 이미 상태에 있는 무언가를 다룬다면 복사를 해야 합니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="immer로-간결한-업데이트-로직-작성하기">Immer로 간결한 업데이트 로직 작성하기<a class="hash-link" href="#immer로-간결한-업데이트-로직-작성하기" title="제목으로 바로 가기">​</a></h3><p>변화 없이 중첩된 배열을 업데이트하는 것은 조금 반복적인 일입니다. <a href="https://beta.reactjs.org/learn/updating-objects-in-state#write-concise-update-logic-with-immer" target="_blank" rel="noopener noreferrer">객체에서와 똑같이 말입니다</a>:</p><ul><li><p>일반적으로, 두 레벨 이상의 깊이로 상태를 업데이트해서는 안됩니다. 상태 객체가 매우 깊다면, 그 <a href="https://beta.reactjs.org/learn/choosing-the-state-structure#avoid-deeply-nested-state" target="_blank" rel="noopener noreferrer">상태 겍체를 다르게 재구조화</a>해서 평평하게 만들기를 원할 수 있습니다.</p></li><li><p>상태 구조를 바꾸기를 원하지 않는다면, Immer를 사용하는 것이 선호됩니다. Immer는 변경 문법이지만 해당 문법을 편리하게 작성하게 만들어주면서 복사본을 만드는 것을 관리합니다.</p></li></ul><p>Art Buckeet List 예시가 Immer로 재작성되었습니다:</p><iframe src="https://codesandbox.io/s/gtpqiy?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p><strong><code>artwork.seen = nextSeen</code>과 같은 변경이 Immer로 어떻게 괜찮아졌는지</strong> 주목하세요:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">updateMyTodos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">draft</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> artwork </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> draft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> artworkId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  artwork</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">seen</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nextSeen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>기존의</em> 상태를 변경하지 않고 Immer가 제공하는 특별한 <code>draft</code> 객체를 변경하고 있습니다.
비슷하게, <code>draft</code>의 내용물에 <code>push()</code>와 <code>pop()</code>과 같은 변경 방법들을 적용할 수 있습니다.</p><p>보이지 않는 곳에서 Immer는 <code>draft</code>에 실행한 변화들에 맞춰 밑바닥부터 다음 상태를 항상 만들어내고 있습니다.
이 방식은 매번 상태를 변경하지 않고 event handler를 매우 간결하게 유지시킵니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="되짚어보기">되짚어보기<a class="hash-link" href="#되짚어보기" title="제목으로 바로 가기">​</a></h2><ul><li>상태에 배열을 넣을 수 있지만 그 배열을 변경해서는 안됩니다.</li><li>배열을 직접적으로 변경시키는 것 대신에 배열의 <em>새로운</em> 버전을 만들어내고 그 버전으로 상태를 업데이트합니다.</li><li><code>[...arr, newItem]</code> 배열 spread 문법으로 새로운 아이템을 가진 배열을 만들어내어 사용할 수 있습니다.</li><li><code>filter()</code>와 <code>map()</code>으로 아이템을 필터링하거나 변형해 새로운 배열을 만들어낼 수 있습니다.</li><li>코드를 간결하게 하기 위해 Immer를 사용할 수 있습니다.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="도전-과제">도전 과제<a class="hash-link" href="#도전-과제" title="제목으로 바로 가기">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>문제에 도전해보세요.</div><div class="admonitionContent_S0QG"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="도전-1-장바구니-속-아이템-업데이트하기">도전 1: 장바구니 속 아이템 업데이트하기<a class="hash-link" href="#도전-1-장바구니-속-아이템-업데이트하기" title="제목으로 바로 가기">​</a></h3><p><strong>도전 1: 장바구니 속 아이템 업데이트하기</strong></p><p>&quot;+&quot;를 눌르면 대응하는 숫자가 증가하도록 <code>handleIncreaseClick</code> 로직을 채우세요:</p><iframe src="https://codesandbox.io/s/0e5vy2?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><blockquote><p><strong>정답</strong></p><p>새로운 함수를 만드는 데 <code>map</code> 함수를 사용하고나서 새로운 배열 속 변화된 객체의 복사본을 만들기 위해 <code>...</code> 객체 spread 문법을 사용할 수 있습니다.</p></blockquote><iframe src="https://codesandbox.io/s/4t9pd0?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>문제에 도전해보세요.</div><div class="admonitionContent_S0QG"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="도전-2-장바구니-속-아이템-삭제하기">도전 2: 장바구니 속 아이템 삭제하기<a class="hash-link" href="#도전-2-장바구니-속-아이템-삭제하기" title="제목으로 바로 가기">​</a></h3><p><strong>도전 2: 장바구니 속 아이템 삭제하기</strong></p><p>이 장바구니는 &quot;+&quot; 버튼은 작동하지만 &quot;-&quot; 버튼은 작동하지 않습니다.
&quot;-&quot; 버튼을 누르면 대응하는 상품의 <code>count</code>를 줄이도록 event handler를 &quot;-&quot; 버튼에 추가할 필요가 있습니다.
개수가 1일 때 &quot;-&quot;를 누르면, 상품은 자동으로 장바구니에서 제거되어야 합니다.
0은 보여지지 않아야 한다는 것을 명심하세요.</p><iframe src="https://codesandbox.io/s/ye14ft?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><blockquote><p><strong>정답</strong></p><p>새로운 배열을 만드는데 <code>map</code>을 먼저 사용하고나서 <code>0</code>인 <code>count</code>를 가진 상품들을 제거하기 위해 <code>filter</code>를 사용합니다:</p></blockquote><iframe src="https://codesandbox.io/s/07irkv?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>문제에 도전해보세요.</div><div class="admonitionContent_S0QG"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="도전-3-변경하지-않는-방법들로-변경을-수정하세요">도전 3: 변경하지 않는 방법들로 변경을 수정하세요<a class="hash-link" href="#도전-3-변경하지-않는-방법들로-변경을-수정하세요" title="제목으로 바로 가기">​</a></h3><p><strong>도전 3: 변경하지 않는 방법들로 변경을 수정하세요</strong></p><p>이 예시에서, <code>App.js</code>의 모든 event handler들이 변경을 사용합니다.
결과적으로, 할일을 수정하고 삭제하는 것이 잘 동작하지 않습니다.
변경하지 않는 방식을 사용해 <code>handleAddTodo</code>, <code>handleChangeTodo</code>, 그리고 <code>handleDeleteTodo</code>을 재작성하세요.</p><iframe src="https://codesandbox.io/s/vcx1hk?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><blockquote><p><strong>정답</strong></p><p><code>handleAddTodo</code>에서 spread 문법을 사용할 수 있습니다. <code>handleChangeTodo</code>에서 <code>map</code>을 사용해 새로운 배열을 만들어낼 수 있습니다. <code>handleDeleteTodo</code>에서 <code>filter</code>로 새로운 배열을 만들어낼 수 있습니다.
이제 목록이 정확하게 작동합니다:</p></blockquote><iframe src="https://codesandbox.io/s/2mdzuq?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>문제에 도전해보세요.</div><div class="admonitionContent_S0QG"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="도전-4-immer를-사용해-변경을-수정하세요">도전 4: Immer를 사용해 변경을 수정하세요<a class="hash-link" href="#도전-4-immer를-사용해-변경을-수정하세요" title="제목으로 바로 가기">​</a></h3><p><strong>도전 4: Immer를 사용해 변경을 수정하세요</strong></p><p>이전 도전과제와 같은 예제입니다. 이번에는 Immer를 사용해 변경을 수정하세요.
여러분의 편의를 위해 <code>useImmer</code>는 미리 import되어있어서 <code>useImmer</code>를 이용해 <code>todos</code> 상태 변수들을 변경하면 됩니다.</p><iframe src="https://codesandbox.io/s/qr9pck?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><blockquote><p><strong>정답</strong></p><p>Immer를 사용하면 Immer가 여러분에게 주는 <code>draft</code>의 일부만을 변경하는 한 변경하는 스타일로 코드를 작성할 수 있습니다.
모든 변경들이 <code>draft</code>로 시행되면서 코드가 작동합니다:</p></blockquote><iframe src="https://codesandbox.io/s/xbtel5?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><blockquote><p>변경하는 방식과 변경하지 않는 방식의 접근을 Immer와 함께 혼용해서 사용해도 됩니다.</p><p>예를 들어, 아래 버전에서는 <code>handleChangeTodo</code>와 <code>handleDeleteTodo</code>는 변경하지 않는 방식의 <code>map</code>과 <code>filter</code> 방식을 사용하지만 <code>handleAddTodo</code>는 Immer <code>draft</code>를 변경하면서 실행됩니다</p></blockquote><iframe src="https://codesandbox.io/s/przpud?file=%2FApp.js&amp;utm_medium=sandpack" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="sandpack-project" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><blockquote><p>Immer를 이용해 각각의 경우에 따라서 가장 자연스러운 스타일을 선택할 수 있습니다.</p></blockquote></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/line-next-level/React-Docs-KOR/tree/main/docs/learn/Adding Interactivity/updating-arrays-in-state.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/React-Docs-KOR/docs/learn/Adding Interactivity/queueing-a-series-of-state-updates"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">일련의 상태 업데이트 저장하기</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/React-Docs-KOR/docs/learn/Managing State/managing-state"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">상태 관리하기 (중급)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#변화없이-배열을-업데이트하기" class="table-of-contents__link toc-highlight">변화없이 배열을 업데이트하기</a><ul><li><a href="#배열에-추가하기" class="table-of-contents__link toc-highlight">배열에 추가하기</a></li><li><a href="#배열에서-제거하기" class="table-of-contents__link toc-highlight">배열에서 제거하기</a></li><li><a href="#배열을-변형시키기" class="table-of-contents__link toc-highlight">배열을 변형시키기</a></li><li><a href="#배열-속-아이템-바꾸기" class="table-of-contents__link toc-highlight">배열 속 아이템 바꾸기</a></li><li><a href="#배열에-삽입하기" class="table-of-contents__link toc-highlight">배열에 삽입하기</a></li><li><a href="#배열에-다른-변화를-만들어내기" class="table-of-contents__link toc-highlight">배열에 다른 변화를 만들어내기</a></li></ul></li><li><a href="#배열-내부의-객체를-업데이트하기" class="table-of-contents__link toc-highlight">배열 내부의 객체를 업데이트하기</a><ul><li><a href="#immer로-간결한-업데이트-로직-작성하기" class="table-of-contents__link toc-highlight">Immer로 간결한 업데이트 로직 작성하기</a></li></ul></li><li><a href="#되짚어보기" class="table-of-contents__link toc-highlight">되짚어보기</a></li><li><a href="#도전-과제" class="table-of-contents__link toc-highlight">도전 과제</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/React-Docs-KOR/assets/js/runtime~main.16dcfed8.js"></script>
<script src="/React-Docs-KOR/assets/js/main.ae80d2f5.js"></script>
</body>
</html>